<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TEST</title>
<style>
body {
padding: 0;
margin: 0;
font-family: Arial, sans-serif;
line-height: 150%;
width: 990px;
margin: 0 auto;
}
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>
    var what = null;

    var increase = 38,
        decrease = 40;

    document.onkeydown = function(ev) 
    {
        switch(ev.keyCode) 
        {
            case increase:
            case decrease:
                what = ev.keyCode;
                break;

            default:
                what = null;
                break;
        }
        if (what) return false;
    }

    document.onkeyup = function(ev) {
        what = null;
    }
    
    $(document).ready(function() {
        var canvas = $('#canv');
        var context = canvas.get(0).getContext('2d');
        var size = 50;
        
        draw(context, size, size);
    });
    
    function draw(context, size1, size2) 
    {
        context.beginPath();

        context.clearRect(0, 0, 640, 480);
        context.fillStyle = 'white';
        context.strokeStyle = 'black';
        context.fillRect(0, 0, 640, 480);

        context.rect(100-size1/2, 220-size1/2, size1, size1);
        context.fillStyle = 'rgb(156,255,40)';
        context.fill();
        context.stroke();
        context.closePath();

        context.rect(400-size2/2, 220-size2/2, size2, size2);
        context.fillStyle = 'rgb(156,255,40)';
        context.fill();
        context.stroke();
        context.closePath();

        var change;

        if (what == increase) change = 1;
        else if (what == decrease) change = -1;
        else change = 0;

        var newSize2 = size2 + change;

        if (newSize2 <   1) newSize2 = 1;
        if (newSize2 > 300) newSize2 = 300;

        setTimeout(function(){ draw(context, size1, newSize2) }, 10);
    }   
</script>
</head>
<body>
	<h1>TEST</h1>
  <canvas id="canv" width="640" height="480"></canvas>
</body>
</html>
